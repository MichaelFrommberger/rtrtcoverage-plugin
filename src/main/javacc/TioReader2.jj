options{  JDK_VERSION = "1.5";  static = false;}PARSER_BEGIN(TioReader2)package com.thalesgroup.rtrtcoverage.tioreader2;import org.apache.commons.lang.StringUtils;import com.thalesgroup.rtrtcoverage.tioreader2.TestSuiteTrace;import com.thalesgroup.rtrtcoverage.tioreader2.TestTrace;import com.thalesgroup.rtrtcoverage.tioreader2.FileTrace;import com.thalesgroup.rtrtcoverage.tioreader2.BranchTrace;
public class TioReader2{  public TestSuiteTrace readTio() throws TioException  {    TestSuiteTrace testSuiteTrace = null;		try	{		testSuiteTrace =  StartFile();	}	catch (Throwable e)	{		throw new TioException(e.getMessage());	}	return testSuiteTrace;  }
  }PARSER_END(TioReader2)SKIP :{  " "| "\t"| "\n"| "\r"}TOKEN :{  < NT : "NT" >|   < DT : "DT" >|   < CO : "CO" >|   < FT : "FT" >|   < DC : "DC" >|   < TP : "TP" >|   < TA : "TA" >|   < TE : "TE" >|   < TB : "TB" >|  < NUM : ([ "0"-"9", "a"-"f", "A"-"F" ])+ >|   < VAR : "\"" ([ "a"-"z", "A"-"Z", "-", "_", ",", ":", "/", " ", "0"-"9" ])+ "\"" >}TestSuiteTrace StartFile() :{	TestSuiteTrace testSuiteTrace = new TestSuiteTrace();}{	(			{			TestTrace testTrace = new TestTrace();			testSuiteTrace.addTestTrace(testTrace);			String testName;		}		testName = NT()		{			testTrace.setName(testName);		}		DT()		(CO())?		(			{				FileTrace fileTrace = new FileTrace();				String key;				String crc;			}			key = FT()			crc = DC()			{				fileTrace.setKey(key);				fileTrace.setCrc(crc);                testTrace.addFileTrace(fileTrace);			}			(			   {			   		BranchTrace trace = null;			   }			   trace = TRACE()			   {					fileTrace.addTrace(trace);			   }			)*		)*	)+	<EOF>	{	  return testSuiteTrace;	}}String NT() :{	String nameTest;	Token  name;}{	< NT >	< VAR >	name = < NUM > 	[ < NUM > ]	{      nameTest = "T" + Integer.toString(Integer.parseInt(StringUtils.reverse(name.image),16));	  return nameTest;	}}void DT() :{}{  < DT >  < VAR >}void CO() :{}{  < CO >}String FT() :{  Token address;}{	< FT >	address = < NUM >  {    return new StringBuffer(address.image).reverse().toString();  }}String DC():{	Token address;}{	< DC >	address = < NUM >  {    return new StringBuffer(address.image).reverse().toString();  }}BranchTrace TRACE() :{  BranchTrace trace = null;}{  	trace = TP()	{	   return trace;	}	 |	trace = TA()	{	   return trace;	}	 | 	trace = TB() 	{	   return trace;	}	 |	trace = TE()	{	   return trace;	}}BranchTrace TP() :{  BranchTrace trace = new BranchTrace();  Token mark;  Token number;}{  mark = < TP >  number = < NUM >  (< NUM >)?  {    trace.setMark(mark.image);    trace.setId(Integer.toString(Integer.parseInt(StringUtils.reverse(number.image),16)));    return trace;  }}BranchTrace TA() :{  BranchTrace trace = new BranchTrace();  Token mark;  Token number;}{  mark = < TA >  number = < NUM >  (< NUM >)?  {    trace.setMark(mark.image);    trace.setId(Integer.toString(Integer.parseInt(StringUtils.reverse(number.image),16)));    return trace;  }}BranchTrace TB() :{  BranchTrace trace = new BranchTrace();  Token mark;  Token number;}{  mark = < TB >  number = < NUM >  (< NUM >)?  {    trace.setMark(mark.image);    trace.setId(Integer.toString(Integer.parseInt(StringUtils.reverse(number.image),16)));    return trace;  }}BranchTrace TE() :{  BranchTrace trace = new BranchTrace();  Token mark;  Token number;}{  mark = < TE >  number = < NUM >  (< NUM >)?  {    trace.setMark(mark.image);    trace.setId(Integer.toString(Integer.parseInt(StringUtils.reverse(number.image),16)));    return trace;  }}    